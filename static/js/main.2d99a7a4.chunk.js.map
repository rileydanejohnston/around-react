{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","CurrentUserContext","React","createContext","Card","card","onCardLike","onCardClick","onDeleteClick","currentUser","useContext","isOwner","_id","ownerId","deleteBtnClass","likeBtnClass","likes","some","like","onClick","type","src","link","alt","name","length","Main","onEditProfileClick","onAddPlaceClick","onEditAvatarClick","cards","style","backgroundImage","avatar","about","map","item","cardId","Footer","PopupWithForm","title","children","isOpen","onClose","onSubmit","id","method","ImagePopup","api","settings","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","fetch","then","_handleResponse","body","JSON","stringify","isLiked","addLike","removeLike","authorization","EditProfilePopup","props","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","onChange","target","value","placeholder","minLength","maxLength","required","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","onAddPlaceSubmit","url","setUrl","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","closeAllPopups","getUserInfo","catch","err","console","log","getCards","cardData","owner","closeByEscape","key","document","addEventListener","removeEventListener","Provider","changeLikeStatus","newCards","prevCard","deleteCard","filter","formInput","updateProfilePic","updateUser","updateProfile","addCard","newCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2d99a7a4.chunk.js","sourcesContent":["import React from 'react'\n\nexport default function Header() {\n  return (\n    <header className='header'>\n          <div className='logo'/>\n    </header>\n  )\n}\n","import React from 'react';\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;","import React from 'react'\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nexport default function Card({ card, onCardLike, onCardClick, onDeleteClick }) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwner = currentUser._id === card.ownerId;\n  const deleteBtnClass = (`cards__close-button ${isOwner ? 'cards__close-button_visible' : 'cards__close-button_hidden'}`);\n\n  const isLiked = card.likes.some(like => like._id === currentUser._id);\n  const likeBtnClass = isLiked ? 'cards__like-button cards__like-button_active' : 'cards__like-button';\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onDeleteClick(card);\n  }\n  \n  return (\n    <li className='cards__item'>\n        <button className={deleteBtnClass} onClick={handleDeleteClick} type='button' />\n        <img className='cards__photo' src={card.link} alt={card.name} onClick={handleClick} />\n        <div className='cards__label'>\n          <h2 className='cards__name'>{card.name}</h2>\n          <div className='cards__like'>\n            <button className={likeBtnClass} onClick={handleLikeClick} type='button' />\n            <p className='cards__like-count'>{card.likes.length}</p>\n          </div>\n        </div>\n      </li>\n  )\n}\n","import React from 'react';\nimport Card from './Card';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nexport default function Main({ onEditProfileClick, onAddPlaceClick, onEditAvatarClick, onCardClick, onCardLike, onDeleteClick, cards }) \n{\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className='main'>\n      <section className='profile'>\n        <div className='profile__avatar' onClick={onEditAvatarClick} style={{ backgroundImage: `url(${currentUser.avatar})` }}>\n          <button className='profile__avatar-btn' type='button' />\n        </div>\n        <div className='profile__info-container'>\n          <div className='profile__info'>\n            <div className='profile__name-button'>\n              <h1 className='profile__name'>{currentUser.name}</h1>\n              <button className='profile__edit-button' type='button' onClick={onEditProfileClick} />\n            </div>\n            <p className='profile__about'>{currentUser.about}</p>\n          </div>\n          <button className='profile__add-button' type='button' onClick={onAddPlaceClick} />\n        </div>\n      </section>\n      <section className='locations'>\n        <ul className='cards'>\n          {cards.map((item) => {\n              return <Card key={`${item.cardId}`} card={item} onCardLike={onCardLike} onCardClick={onCardClick} onDeleteClick={onDeleteClick} />\n          })}\n        </ul>\n      </section>\n    </main>\n  )\n}\n","import React from 'react'\n\nexport default function Footer() {\n  return (\n    <footer className='footer'>\n          <p className='footer__copyright'>&copy; 2021 Around The U.S.</p>\n    </footer>\n  )\n}\n","import React from 'react'\n\nexport default function PopupWithForm({ name, title, children, isOpen, onClose, onSubmit }) {\n\n  // add hook for if user presses esc while popup is open?\n\n  return (\n    <div className={isOpen ? `popup popup_active popup_type_${name}`: `popup popup_type_${name}`}>\n      <div className='popup__container'>\n        <button className='popup__close' type='button' onClick={onClose}></button>\n        <form className='popup__form' id={name} onSubmit={onSubmit} method='POST' name={name}>\n          <h3 className='popup__title popup__title_confirm'>{title}</h3>\n          {children}\n          <button className='popup__submit popup__submit_confirm' type='submit' name='submit'>Save</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function ImagePopup({ card, onClose }) {\n  return (\n    <div className={card.link === '' ? 'popup' : 'popup popup_active' }>\n      <div className='popup__image-wrap'>\n        <button className='popup__close popup__close_type_image' type='button' onClick={onClose} />\n        <img className='popup__image' src={card.link} alt={card.name} />\n        <p className='popup__caption'>{card.name}</p>\n      </div>\n    </div>\n  )\n}\n","class Api {\n  constructor(settings) {\n    this._baseUrl = settings.baseUrl;\n    this._headers = settings.headers;\n  }\n\n  _handleResponse(res) {\n    if (res.ok){\n      return res.json();\n    }\n    return Promise.reject();\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    })\n      .then((res) => {\n        return this._handleResponse(res);\n      });\n  }\n\n  getCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    })\n      .then((res) => {\n        return this._handleResponse(res);\n      });\n  }\n\n  updateProfile({ name, about }) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about\n      })\n    })\n    .then((res) => {\n      return this._handleResponse(res);\n    })\n  }\n\n  addCard(name, link) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link\n      })\n    })\n    .then((res) => {\n      return this._handleResponse(res);\n    })\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    })\n    .then((res) => {\n      return this._handleResponse(res);\n    })\n  }\n\n  addLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: \"PUT\",\n      headers: this._headers\n    })\n    .then((res) => {\n      return this._handleResponse(res);\n    })\n  }\n\n  removeLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    })\n    .then((res) => {\n      return this._handleResponse(res);\n    })\n  }\n\n  changeLikeStatus(cardId, isLiked) {\n    if (isLiked){\n      return this.addLike(cardId);\n    }\n    else {\n      return this.removeLike(cardId);\n    }\n  }\n\n  updateProfilePic(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar\n      })\n    })\n    .then((res) => {\n      return this._handleResponse(res);\n    })\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-10\",\n  headers: {\n      authorization: \"2a32e80d-c23f-4ed9-9cf5-671c417d0702\",\n      \"Content-Type\": \"application/json\"\n    }\n});\n\nexport default api;","import React from 'react'\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup(props) {\n\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen]);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateUser({\n      name,\n      about: description\n    });\n  }\n\n  return (\n    <PopupWithForm title='Edit profile' name='profile' onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose}>\n      <input className='popup__name popup__input' onChange={handleNameChange} value={name} id='profile-name' type='text' placeholder='Name' name='name' minLength='2' maxLength='40' required />\n      <span className='popup__error' id='profile-name-error' />\n      <input className='popup__about popup__input' onChange={handleDescriptionChange} value={description} id='profile-about' type='text' placeholder='About' name='about' minLength='2' maxLength='200' required />\n      <span className='popup__error' id='profile-about-error' />\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup(props) {\n\n  const avatarRef = React.useRef('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar(avatarRef.current.value);\n  }\n\n  return (\n    <PopupWithForm title='Change profile picture' name='avatar' isOpen={props.isOpen} onSubmit={handleSubmit} onClose={props.onClose}>\n      <input className='popup__about popup__about_profile-pic popup__input' ref={avatarRef}  id='profile-pic-url' type='url' placeholder='Image link' name='pic' required />\n      <span className='popup__error' id='profile-pic-url-error' />\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm';\n\nexport default function AddPlacePopup({ isOpen, onClose, onAddPlaceSubmit }) {\n\n  const [name, setName] = React.useState('');\n  const [url, setUrl] = React.useState('');\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleUrlChange(e) {\n    setUrl(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onAddPlaceSubmit(name, url);\n  } \n\n  return (\n    <PopupWithForm title='New place' name='place' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} >\n      <input className='popup__name popup__input' onChange={handleNameChange} value={name} id='newPlace-name' type='text' placeholder='Title' name='title' minLength='1' maxLength='30' required />\n      <span className='popup__error' id='newPlace-name-error' />\n      <input className='popup__about popup__input' onChange={handleUrlChange} value={url} id='newPlace-about' type='url' placeholder='Image link' name='link' required />\n      <span className='popup__error' id='newPlace-about-error' />\n    </PopupWithForm>\n  )\n}\n","import React from 'react'\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({ link: '', name: '' });\n  const [cards, setCards] = React.useState([]);\n  const [currentUser, setCurrentUser] = React.useState({ name: '', about: '', avatar: '', _id: ''});\n\n  React.useEffect(() => {\n    api.getUserInfo()\n    .then(({ name, about, avatar, _id }) => {\n      setCurrentUser({ name, about, avatar, _id });\n    })\n    .catch((err) => console.log(err));\n  }, []);\n \n  React.useEffect(() => {\n    api.getCards()\n    .then((res) => {\n      const cardData = res.map((item) => {\n        return { likes: item.likes, name: item.name, link: item.link, cardId: item._id, ownerId: item.owner._id }\n      });\n      setCards(cardData);\n    })\n    .catch((err) => console.log(err));\n  }, []);\n\n  React.useEffect(() => {\n    const closeByEscape = (e) => {\n      if (e.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n\n    document.addEventListener('keydown', closeByEscape);\n\n    return () => document.removeEventListener('keydown', closeByEscape);\n\n  }, [])\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(like => like._id === currentUser._id);\n\n    api.changeLikeStatus(card.cardId, !isLiked)\n    .then((res) => {\n      const newCards = cards.map((prevCard) => {\n        if (prevCard.cardId === res._id) {\n          return { likes: res.likes, name: res.name, link: res.link, cardId: res._id, ownerId: res.owner._id };\n        }\n        return prevCard;\n      });\n      setCards(newCards);\n    })  \n    .catch((err) => console.log(err));\n  }\n\n  function handleDeleteCard(card) {\n\n    api.deleteCard(card.cardId)\n    .then((res) => {\n      const newCards = cards.filter((prevCard) => { return prevCard.cardId !== card.cardId });\n      setCards(newCards);\n    })  \n    .catch((err) => console.log(err));\n  }\n  \n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick({ link, name }) {\n    setSelectedCard({ link, name });\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard({ link: '', name: '' });\n  }\n\n  function handleUpdateUser(formInput) {\n    api.updateProfile(formInput)\n    .then((res) => {\n      const updateUser = {...currentUser, name: res.name, about: res.about }\n      setCurrentUser(updateUser);\n      closeAllPopups();\n    })\n    .catch((err) => console.log(err));\n  }\n\n  function handleUpdateAvatar(formInput) {\n    api.updateProfilePic(formInput)\n    .then((res) => {\n      const updateUser = { ...currentUser, avatar: res.avatar };\n      setCurrentUser(updateUser);\n      closeAllPopups();\n    })\n    .catch((err) => console.log(err));\n  }\n\n  function handleAddPlaceSubmit(name, url) {\n    api.addCard(name, url)\n    .then((res) => {\n      const newCard = {\n        likes: res.likes, \n        name: res.name, \n        link: res.link, \n        cardId: res._id, \n        ownerId: res.owner._id\n      };\n\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    })\n    .catch((err) => console.log(err));\n  }\n\n  return (\n    <div className='root'>\n      <div className='page'>\n        <CurrentUserContext.Provider value={currentUser}>\n          <Header />\n          <Main \n            onEditProfileClick={handleEditProfileClick} \n            onAddPlaceClick={handleAddPlaceClick} \n            onEditAvatarClick={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onDeleteClick={handleDeleteCard}\n          />\n          <Footer />\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n          <PopupWithForm title='Are you sure?' name='confirm' />\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlaceSubmit={handleAddPlaceSubmit} />\n        </CurrentUserContext.Provider>\n      </div>\n    </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}